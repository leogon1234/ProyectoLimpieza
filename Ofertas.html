<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ofertas - Tienda de Limpieza</title>
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />

</head>

<body>
    <header class="d-flex justify-content-between align-items-center px-3 py-2 header-tienda">
        <div>
            <h1 class="mb-0 header-titulo">LimpiFresh</h1>
        </div>
        <nav class="mx-auto">
            <ul class="nav justify-content-center">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Inicio</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="productos.html">Productos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="ofertas.html">Ofertas</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="nosotros.html">Nosotros</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="blogs.html">Blogs</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="contacto.html">Contacto</a>
                </li>
            </ul>
        </nav>
        <div class="d-flex align-items-center gap-2">
            <a href="login.html" class="btn btn-light" title="Mi cuenta">
                <i class="bi bi-person"></i>
            </a>
            <a href="carrito.html" class="btn btn-light position-relative" id="carrito-header-btn">
                <i class="bi bi-cart"></i>
                <span>Carrito</span>
                <span class="badge bg-danger position-absolute top-0 start-100 translate-middle"
                    id="carrito-contador">0</span>
            </a>
        </div>
    </header>
    <main class="container my-4">
        <h2>Ofertas</h2>
        <div class="row g-4" id="ofertas-lista">
            <!-- Las ofertas se cargarán aquí dinámicamente -->
        </div>
    </main>
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script src="js/carrito.js"></script>
</body>

<script>
    // Array de productos igual que en ofertas.js
    const productos = [
        { id: 1, nombre: "Detergente Líquido", img: "img/Detergente.jpg", precio: 5990, oferta: false, precioOferta: null },
        { id: 2, nombre: "Cloro Desinfectante", img: "img/Cloro.jpg", precio: 2500, oferta: true, precioOferta: 2000 },
        { id: 3, nombre: "Escoba Multiuso", img: "img/escoba.jpg", precio: 3500, oferta: false, precioOferta: null },
        { id: 4, nombre: "Guantes de Limpieza", img: "img/guantes.jpg", precio: 1500, oferta: true, precioOferta: 1200 },
        { id: 5, nombre: "Esponja Multiuso", img: "img/esponja.jpg", precio: 800, oferta: false, precioOferta: null },
        { id: 6, nombre: "Limpiavidrios", img: "img/limpiavidrios.jpg", precio: 3000, oferta: true, precioOferta: 2500 },
        { id: 7, nombre: "Trapo de Piso", img: "img/trapo.jpg", precio: 1000, oferta: false, precioOferta: null },
        { id: 8, nombre: "Escobillón", img: "img/escobillon.jpg", precio: 2200, oferta: false, precioOferta: null },
        { id: 9, nombre: "Limpiapisos", img: "img/limpiapisos.jpg", precio: 3500, oferta: true, precioOferta: 3000 },
        { id: 10, nombre: "Cepillo de Limpieza", img: "img/cepillo.jpg", precio: 1800, oferta: false, precioOferta: null },
        { id: 11, nombre: "Bolsas de Basura", img: "img/bolsas.jpg", precio: 1500, oferta: false, precioOferta: null },
        { id: 12, nombre: "Limpiador Multiuso", img: "img/limpiador-multiuso.jpg", precio: 3200, oferta: true, precioOferta: 2800 }
    ];

    function mostrarOfertas() {
        const ofertas = productos.filter(p => p.oferta);
        const lista = document.getElementById('ofertas-lista');
        let html = '';
        ofertas.forEach(prod => {
            html += `
      <div class="col-md-4">
    <a href="detalle-producto.html?id=${prod.id}" class="link-producto">
          <div class="card h-100 shadow-sm position-relative">
            <span class="badge-sale">Sale</span>
            <img src="${prod.img}" class="card-img-top" alt="${prod.nombre}" />
            <div class="card-body text-center d-flex flex-column justify-content-between h-100">
              <div>
                <h5 class="card-title">${prod.nombre}</h5>
                <div class="precios-oferta">
                  <span class="precio-oferta">$${prod.precioOferta.toLocaleString()}</span>
                  <span class="precio-tachado">$${prod.precio.toLocaleString()}</span>
                </div>
              </div>
              <button class="btn btn-success mt-3" onclick="event.preventDefault(); agregarAlCarrito(${prod.id});">Agregar al carrito</button>
            </div>
          </div>
        </a>
      </div>
    `;
        });
        lista.innerHTML = html;
    }

    document.addEventListener('DOMContentLoaded', mostrarOfertas);
</script>
</body>

</html>